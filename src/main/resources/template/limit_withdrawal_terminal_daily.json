{
  "id": "limit_withdrawal_terminal_daily",
  "readable_name": "Суточный лимит выплат по терминалу",
  "prometheus_query": "round(100 * sum(el_payout_limits_amount_by_calendar{time_range_type_calendar=\"day\", limit_scope_types=\"terminal\", limit_type_turnover_metric=\"amount\", terminal_id=\"${terminal_id}\", wallet_id=\"${wallet_id}\", provider_id=\"${provider_id}\"}/el_payout_limits_boundary_by_calendar{time_range_type_calendar=\"day\", limit_scope_types=\"terminal\", limit_type_turnover_metric=\"amount\", terminal_id=\"${terminal_id}\", wallet_id=\"${wallet_id}\", provider_id=\"${provider_id}\"}), 1) > ${limit_percentage_threshold}",
  "alert_name_template": "Суточный лимит для терминала '${terminal_id}', кошелька '${wallet_id}' и провайдера '${provider_id}' израсходован на ${limit_percentage_threshold}%",
  "alert_notification_template": "Суточный лимит для терминала '${terminal_id}', кошелька '${wallet_id}' и провайдера '${provider_id}' израсходован на {{ $value }}%",
  "parameters": [
    {
      "id": 1,
      "substitution_name": "provider_id",
      "readable_name": "Введите идентификатор провайдера",
      "mandatory": true,
      "multiple_values": false,
      "dictionary_name": "payout_providers"
    },
    {
      "id": 2,
      "substitution_name": "terminal_id",
      "readable_name": "Введите идентификатор терминала",
      "mandatory": true,
      "multiple_values": false,
      "dictionary_name": "payout_terminals"
    },
    {
      "id": 3,
      "substitution_name": "wallet_id",
      "readable_name": "Введите идентификатор кошелька",
      "mandatory": true,
      "multiple_values": false,
      "dictionary_name": "wallets"
    },
    {
      "id": 4,
      "substitution_name": "limit_percentage_threshold",
      "readable_name": "Введите степень израсходования лимита в процентах (Пример: 85), при достижении которой вас необходимо уведомить",
      "mandatory": true,
      "regexp": "^[0-9][0-9]?$|^100$"
    }
  ]
}